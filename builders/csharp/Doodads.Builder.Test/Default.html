<html>
<head>
    <title></title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="JavaScript/jquery.tipsy.js"></script>
    <script type="text/javascript" src="JavaScript/mustache.js"></script>
    <script type="text/javascript" src="JavaScript/grabbag.js"></script>
    <script type="text/javascript" src="JavaScript/doodads.js"></script>
    <style>
        @import url('tipsy.css');
        
        html, body
        {
            height: 100%;
        }
    </style>
    <script type="text/javascript">
        $(function () {
            doodads.config.repositories['core'] = '/doodads/';
            doodads.create('core:Button.doodad', { text: 'Button' })
                .done(function (doodad) {
                    doodad.render($(document.body));
                });

            doodads.create('core:CheckBox.doodad', { text: 'Box' })
                .done(function (doodad) {
                    doodad.render($(document.body));
                });

            doodads.create('core:DropDown.doodad', { watermark: 'Select an item' })
                .done(function (doodad) {
                    doodad.render($(document.body));
                    doodad.dataSource([
                        { text: 'Yakko', value: 1 },
                        { text: 'Wakko', value: 2 },
                        { text: 'Dot', value: 3 },
                        { text: 'Dr. Otto Scratchansniff', value: 4 },
                        { text: 'Hello Nurse', value: 5 }
                    ]);
                });

            doodads.create('core:Label.doodad', { text: 'It was the best of times, it was the blurst of times' })
                .done(function (doodad) {
                    doodad.render($(document.body));
                });

            // list view
            doodads.create('core:ListView.doodad')
                .done(function (doodad) {
                    doodad.render($(document.body));
                    doodad.dataSource([
                        { id: '1', text: 'Superman (Clark Kent)' }
                        , { id: '2', text: 'Batman (Bruce Wayne)' }
                        , { id: '3', text: 'Spider-Man (Peter Parker)' }
                        , { id: '4', text: 'Iron Man (Tony Stark)' }
                        , { id: '5', text: 'Green Lantern (John Stewart)' }
                        , { id: '6', text: 'Robin (Dick Grayson)' }
                        , { id: '7', text: 'Cyclops (Scott Summers)' }
                    ]);
                });

            doodads.create('core:NumericTextBox.doodad', { text: 'HELLO', required: true })
                .done(function (doodad) {
                    doodad.render($(document.body));

                    doodad.bind('changing', function () {
                        console.log(arguments);
                    });

                    doodad.bind('valid', function () {
                        console.log('valid');
                    });

                    doodad.bind('invalid', function () {
                        console.log('invalid');
                    });
                });

            doodads.create('core:RadioButton.doodad', { text: 'All I want is my Radio' })
                .done(function (doodad) {
                    doodad.render($(document.body));
                });


            doodads.create('core:TextBox.doodad', { text: 'HELLO', required: true, multiline: true, maxlength: 100 })
                .done(function (doodad) {
                    doodad.render($(document.body));

                    doodad.addRule(function (ctx) {
                        return {
                            valid: ctx === 'Groucho Marx',
                            message: 'Must be \'Groucho Marx\'',
                            alwaysShow: true
                        };
                    });
                    doodad.addRule(function (ctx) {
                        return {
                            valid: ctx.length === 12,
                            message: 'Must be 12 characters long'
                        };
                    });

                    doodad.bind('changing', function () {
                        console.log(arguments);
                    });

                    doodad.bind('valid', function () {
                        console.log('valid');
                    });

                    doodad.bind('invalid', function () {
                        console.log('invalid');
                    });
                });
        });
    </script>
</head>
<body>
</body>
</html>
